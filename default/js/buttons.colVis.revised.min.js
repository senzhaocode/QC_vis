!function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(n){return t(n,window,document)}):"object"==typeof exports?module.exports=function(n,e){return n||(n=window),e&&e.fn.dataTable||(e=require("datatables.net")(n,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(n,e),t(e,n,n.document)}:t(jQuery,window,document)}(function(t,n,e,o){"use strict";var i=t.fn.dataTable;return t.extend(i.ext.buttons,{colvis:function(t,n){return{extend:"collection",text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:n.columns,columnText:n.columnText,columntitleAttr:n.columntitleAttr}]}},columnsToggle:function(t,n){return t.columns(n.columns).indexes().map(function(t){return{extend:"columnVisibility",columns:t,columnText:n.columnText,columntitleAttr:n.columntitleAttr}}).toArray()},columnVisibility:{columns:o,text:function(t,n,e){return e._columnText(t,e)},titleAttr:function(t,n,e){return e._columntitleAttr(t,e)},className:"buttons-columnVisibility",action:function(t,n,e,i){var l=n.columns(i.columns),c=l.visible();l.visible(i.visibility!==o?i.visibility:!(c.length&&c[0]))},init:function(t,n,e){var o=this;t.on("column-visibility.dt"+e.namespace,function(n,i){i.bDestroying||i.nTable!=t.settings()[0].nTable||o.active(t.column(e.columns).visible())}).on("column-reorder.dt"+e.namespace,function(n,i,l){1===t.columns(e.columns).count()&&(o.text(e._columnText(t,e)),o.titleAttr(e._columntitleAttr(t,e)),o.active(t.column(e.columns).visible()))}),this.active(t.column(e.columns).visible())},_columnText:function(t,n){var e=t.column(n.columns).index(),o=t.settings()[0].aoColumns[e].sTitle.replace(/\n/g,"").replace(/<.*?class="/g,"").replace(/">(.*?)<\/span>/g,""),i=t.settings()[0].aoColumns[e].sTitle.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return i=o+" "+i,n.columnText?n.columnText(t,e,i):i},_columntitleAttr:function(t,n){var e=t.column(n.columns).index(),o=t.settings()[0].aoColumns[e].sTitle.replace(/\n/g,"").replace(/<.*?title="/g,"").replace(/"\sclass=.*?<\/span>/g,"");return n.columntitleAttr?n.columntitleAttr(t,e,o):o}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,n,e){e._visOriginal=t.columns().indexes().map(function(n){return t.column(n).visible()}).toArray()},action:function(t,n,e,o){n.columns().every(function(t){var e=n.colReorder&&n.colReorder.transpose?n.colReorder.transpose(t,"toOriginal"):t;this.visible(o._visOriginal[e])})}}}),i.Buttons});
